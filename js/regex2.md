
# 再梳理一遍正则吧亲

## 元字符

（**都是小写！大写就是反义**）

```
.	匹配除换行符以外的任意字符
\w	匹配字母或数字或下划线或汉字
\s	匹配任意的空白符
\d	匹配数字
\b	匹配单词的开始或结束
^	匹配字符串的开始
$	匹配字符串的结束

另外还有：
| -> 或
\ -> 字符转义
( ) -> 分组
{ } -> 重复次数
[ ] -> 字符类（字符范围）
```

## 字符转义
```
如果你想查找元字符本身的话，比如你查找 . 或者 * 就出现了问题：你没办法指定它们，因为它们会被解释成别的意思。这时你就得使用 \ 来取消这些字符的特殊意义。因此，你应该使用 \. 和 \*。当然，要查找 \ 本身，你也得用 \\ 。
```

`例如：xxx\.net 匹配 xxx.net，C:\\Windows 匹配 C:\Windows。`

## 重复

```
语法	        说明
*	        重复零次或更多次
+	        重复一次或更多次
?	        重复零次或一次
{n}	        重复 n 次
{n,}	        重复 n 次或更多次
{n,m}	        重复 n 到 m 次
```

下面是一些使用重复的例子：

`Windows\d+ 匹配 Windows 后面跟 1 个或更多数字`

`^\w+ 匹配一行的第一个单词(或整个字符串的第一个单词，具体匹配哪个意思得看选项设置)`

## 字符类

方括号 `[]` 指定一个字符范围，[0-9] 就是代表 \d，[a-zA-Z] 就是代表所有英文

`[ABC]{1}  ->  A 或 B 或 C 里面的一个`

## 分枝条件

竖线 `|` 代表代码中 `或`，可以把不同的规则分隔开来。（**所以需要注意短路匹配！**）

`0\d{2}-\d{8}|0\d{3}-\d{7}` 这个表达式能匹配两种以连字号分隔的电话号码：一种是三位区号，8 位本地号(如 010-12345678)，一种是 4 位区号，7 位本地号 (0376-2233445)。

## 分组

`( )` 小括号表示分组（子表达式），可以用于指定某分组的重复次数或其他操作。

例如：匹配 IP 地址：

`((2[0-4]\d|25[0-5]|[01]?\d\d?)\.){3}(2[0-4]\d|25[0-5]|[01]?\d\d?)`

## 反义

有时需要查找不属于某个能简单定义的字符类的字符。比如想查找除了数字以外，其它任意字符都行的情况，这时需要用到反义。

```
语法        说明
\W         匹配任意不是字母，数字，下划线，汉字的字符
\S	   匹配任意不是空白符的字符
\D	   匹配任意非数字的字符
\B	   匹配不是单词开头或结束的位置
[^x]	   匹配除了 x 以外的任意字符
[^aeiou]   匹配除了 aeiou 这几个字母以外的任意字符
```

